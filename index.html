<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Happy Birthday</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A personalized animated Happy Birthday greeting for Francisco.">
    <meta name="theme-color" content="#ff477e" />
    <style>
        :root {
            --grad: linear-gradient(270deg, #ff9a9e, #fad0c4, #fcb69f, #ffecd2);
            --card-bg: rgba(255, 255, 255, 0.25);
            --text-gradient: linear-gradient(90deg, #ff477e, #ff9a9e, #ffd166, #06d6a0, #118ab2);
            --accent: #ff477e;
            --accent-alt: #118ab2;
            --shadow: 0 15px 50px rgba(0, 0, 0, 0.25);
            --radius-lg: 24px;
            --radius-md: 18px;
            --focus-ring: 0 0 0 3px rgba(255, 71, 126, 0.35);
        }

        .dark-mode {
            --grad: linear-gradient(270deg, #1e3c72, #2a5298, #243b55, #141e30);
            --card-bg: rgba(30, 38, 54, 0.55);
            --text-gradient: linear-gradient(90deg, #ff9a9e, #ffd166, #06d6a0, #82eaff, #d4a5ff);
            --accent: #ffd166;
            --accent-alt: #82eaff;
            --shadow: 0 15px 50px rgba(0, 0, 0, 0.55);
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.001s !important;
                animation-iteration-count: 1 !important;
                transition: none !important;
            }
        }

        /* Background */
        body {
            margin: 0;
            font-family: "Segoe UI", Roboto, Arial, sans-serif;
            background: var(--grad);
            background-size: 800% 800%;
            animation: gradientShift 20s ease infinite;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            color: #222;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .page {
            width: 100%;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Hero card */
        .hero {
            max-width: 1250px;
            width: 100%;
            border-radius: var(--radius-lg);
            padding: 2.3rem 2.4rem 2.8rem;
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            align-items: flex-start;
            position: relative;
            box-shadow: var(--shadow);
            animation: fadeIn 1.2s ease;
            overflow: hidden;
            background: var(--card-bg);
            backdrop-filter: blur(18px) saturate(160%);
            border: 1px solid rgba(255, 255, 255, 0.35);
        }

        .hero::before {
            content: "";
            position: absolute;
            inset: 0;
            background: inherit;
            backdrop-filter: blur(15px) saturate(150%);
            border-radius: inherit;
            z-index: 0;
        }

        .hero::after {
            content: "";
            position: absolute;
            inset: 0;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            opacity: 0.15;
            pointer-events: none;
            z-index: 0;
        }

        .hero>* {
            position: relative;
            z-index: 1;
            /* keep content sharp */
        }

        @keyframes borderGlow {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Greeting */
        .greeting {
            font-size: clamp(2rem, 5vw, 3.1rem);
            margin: 0 0 .65rem;
            font-weight: 900;
            background: var(--text-gradient);
            background-size: 300% 300%;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shineText 10s linear infinite, float 3s ease-in-out infinite;
            text-align: center;
            text-shadow: 0 0 14px rgba(255, 71, 126, 0.55);
            letter-spacing: .5px;
        }

        @keyframes shineText {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes float {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-6px);
            }

            100% {
                transform: translateY(0);
            }
        }

        .sub {
            margin: 0 0 1.4rem;
            color: #222;
            font-size: 1.15rem;
            text-align: center;
            font-weight: 500;
        }

        /* Utility toolbar */
        .toolbar {
            display: flex;
            gap: .75rem;
            justify-content: center;
            flex-wrap: wrap;
            margin: 0 0 1.2rem;
        }

        .toolbar button {
            background: rgba(255, 255, 255, 0.55);
            border: 1px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(8px) saturate(160%);
            padding: .65rem 1rem;
            border-radius: 40px;
            font-size: .85rem;
            font-weight: 600;
            letter-spacing: .5px;
            cursor: pointer;
            color: #222;
            display: inline-flex;
            align-items: center;
            gap: .4rem;
            position: relative;
            transition: background .35s ease, transform .35s ease, color .35s ease;
        }

        .toolbar button:hover {
            background: var(--accent);
            color: #fff;
            transform: translateY(-2px);
        }

        .toolbar button:focus-visible {
            outline: none;
            box-shadow: var(--focus-ring);
        }

        .toolbar button.active {
            background: var(--accent-alt);
            color: #0c2233;
        }

        /* Frames */
        .photo-wrap,
        .cake-wrap {
            position: relative;
            border-radius: 18px;
            overflow: hidden;
            border: 6px solid #fff;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            background: linear-gradient(180deg, #fff, #f6f0ff);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }

        .photo-wrap:hover,
        .cake-wrap:hover {
            transform: scale(1.05) rotate(-2deg);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .photo-wrap::before,
        .cake-wrap::before {
            content: "";
            position: absolute;
            top: 0;
            left: -75%;
            width: 50%;
            height: 100%;
            background: linear-gradient(120deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
            transform: skewX(-20deg);
            animation: shine 5s infinite;
        }

        @keyframes shine {
            0% {
                left: -75%;
            }

            50% {
                left: 125%;
            }

            100% {
                left: 125%;
            }
        }

        /* Glow aura */
        .photo-wrap::after,
        .cake-wrap::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 18px;
            box-shadow: 0 0 30px rgba(255, 71, 126, 0.3);
            pointer-events: none;
        }

        .photo-wrap {
            width: 220px;
            height: 220px;
            margin: 0 auto 1rem;
        }

        .cake-wrap {
            width: 320px;
            margin: 0 auto;
            animation: float 4s ease-in-out infinite;
        }

        .cake-wrap:hover {
            animation: bounce 1s infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-12px);
            }
        }

        .photo-wrap img,
        .cake-wrap img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Message card */
        .message-card {
            flex: 1;
            min-width: 280px;
            max-width: 500px;
            background: linear-gradient(145deg, #fffdfa 0%, #fff8f4 60%, #fff 100%);
            padding: 1.9rem 1.9rem 2.1rem;
            border-radius: var(--radius-md);
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.18);
            line-height: 1.62;
            font-size: 1rem;
            color: #444;
            position: relative;
            animation: fadeIn 1.7s ease;
            border: 2px solid rgba(255, 71, 126, 0.28);
            max-height: 70vh;
            overflow-y: auto;
        }

        .message-card h2 {
            font-family: "Brush Script MT", cursive;
            font-size: 1.9rem;
            background: var(--text-gradient);
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            margin-top: 0;
            margin-bottom: 1rem;
            text-align: center;
            letter-spacing: .5px;
        }

        .message-card::before {
            content: "💌";
            position: absolute;
            top: -18px;
            left: 20px;
            font-size: 1.5rem;
        }

        /* Sparkles */
        .sparkles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 1;
        }

        .sparkles span {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            animation: sparkle 3.3s ease-in-out infinite;
            box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.55);
        }

        @keyframes sparkle {

            0%,
            100% {
                opacity: 0.2;
                transform: scale(0.5);
            }

            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        /* Balloons */
        .balloon {
            position: fixed;
            bottom: -100px;
            border-radius: 50% 50% 45% 45%;
            animation: rise 10s linear infinite;
            z-index: 0;
        }

        .balloon::after {
            content: "";
            position: absolute;
            bottom: -20px;
            left: 50%;
            width: 2px;
            height: 20px;
            background: #555;
            transform: translateX(-50%);
        }

        @keyframes rise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-120vh) scale(1.1);
                opacity: 0;
            }
        }

        /* Music notes */
        .notes {
            position: fixed;
            bottom: 18px;
            right: 18px;
            font-size: 1.4rem;
            color: var(--accent);
            animation: bounce 2.2s infinite;
            z-index: 2;
            user-select: none;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0 0 0 0);
            white-space: nowrap;
            border: 0;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding-top: 1rem;
            }

            .hero {
                flex-direction: column;
                padding: 1rem;
                gap: 1.5rem;
                border-radius: 18px;
            }

            .left,
            .right,
            .message-card {
                width: 100%;
                text-align: center;
            }

            .greeting {
                font-size: 2rem;
                line-height: 1.3;
            }

            .sub {
                font-size: 1rem;
                margin-bottom: 1rem;
            }

            .photo-wrap {
                width: 180px;
                height: 180px;
            }

            .cake-wrap {
                width: 240px;
            }

            .message-card {
                font-size: 0.95rem;
                padding: 1.2rem 1.1rem 1.4rem;
                max-height: 55vh;
                overflow-y: auto;
            }

            /* Mobile scrollbar style */
            .message-card::-webkit-scrollbar {
                width: 6px;
            }

            .message-card::-webkit-scrollbar-thumb {
                background: linear-gradient(180deg, #ff477e, #ffd166);
                border-radius: 3px;
            }

            .message-card::-webkit-scrollbar-track {
                background: rgba(0, 0, 0, 0.05);
            }
        }
    </style>
</head>

<body>
    <div class="page">
        <div class="hero">
            <!-- Left -->
            <div class="left">
                <h1 class="greeting">🎉 Happy 22nd Birthday Francisco 🎉</h1>
                <p class="sub">Wishing you all the best on your special day!</p>
                <div class="toolbar" role="group" aria-label="Controls">
                    <button id="toggleAudio" type="button" aria-pressed="true" title="Play or pause birthday song">🔊 Music</button>
                    <button id="toggleTheme" type="button" aria-pressed="false" title="Toggle dark mode">🌙 Dark</button>
                    <button id="reduceMotion" type="button" aria-pressed="false" title="Toggle motion effects">🌀 Motion</button>
                </div>

                <!-- Francisco photo -->
                <div class="photo-wrap" aria-label="Photo frame">
                    <img src="assets/francisco.jpg" alt="Portrait of Francisco smiling" onerror="this.onerror=null; this.src='assets/placeholder.svg';">
                </div>

                <!-- Song -->
                <div class="audio-row">
                    <audio id="song" src="assets/happy_birthday.mp3" autoplay loop aria-label="Birthday song"></audio>
                </div>
            </div>

            <!-- Right -->
            <div class="right">
                <div class="cake-wrap" aria-hidden="true">
                    <img src="assets/cake.gif" alt="Animated birthday cake" onerror="this.onerror=null; this.src='assets/placeholder.svg';">
                </div>
            </div>

            <!-- Message card -->
            <div class="message-card" role="article" aria-labelledby="noteTitle">
                <h2 id="noteTitle">💙 A Note for You 💙</h2>
                🎉 Happy 22nd Birthday, Francisco! 🎉<br><br>
                Today isn’t just another day—it’s the celebration of someone who’s been a constant in my life since the
                very beginning of college. Happy birthday to one of my closest friends, my dormmate, my bordermate, and
                my brother in every sense that matters.<br><br>
                From the moment we started this journey, you’ve been there—not just physically beside me in the same
                room or under the same roof, but emotionally, mentally, and spiritually. We’ve faced challenges that
                would’ve been overwhelming alone, but together, we found strength. We’ve shared late nights filled with
                stress, laughter, and quiet understanding. We’ve seen each other at our lowest and still chose to stand
                by each other.<br><br>
                Happy birthday, Francisco. You’ve been the kind of friend who doesn’t just talk about loyalty—you live
                it. I’ll never forget the times you cooked for me when I was buried in schoolwork, too tired to think
                about food, and too focused to ask for help. You just knew. And you showed up. That kind of care? That’s
                rare. That’s real.<br><br>
                You’ve taught me that friendship isn’t always loud—it’s in the small things. In the shared silence. In
                the unspoken support. In the way you always made sure I was okay, even when you had your own battles to
                fight.<br><br>
                Now, as you step into 22, I want you to know how proud I am of you. You’ve grown so much—not just in
                skill or knowledge, but in character. And I know you’re just getting started. So happy birthday, yot.
                May this year bring you clarity, strength, and the kind of breakthroughs you’ve been working so hard
                for.<br><br>
                I’m wishing you all the best in your studies. May your mind stay sharp, your heart stay steady, and your
                goals stay in sight. You’ve got the discipline, the drive, and the resilience to make it through—and I
                believe in you completely.<br><br>
                So here’s to more memories, more meals shared, more victories earned.<br>
                Here’s to the quiet moments that mean everything, and the loud celebrations that remind us how far we’ve
                come.<br>
                Here’s to you.<br><br>
                Happy birthday, Francisco. Keep going. Keep growing. Keep being the incredible person you are. 💙
            </div>
        </div>
    </div>

    <!-- Sparkles & notes -->
    <div class="sparkles"></div>
    <div class="notes">🎵 🎶</div>

    <!-- Balloons -->
    <div id="balloons"></div>

    <script>
        // Music autoplay fallback
        document.addEventListener("DOMContentLoaded", () => {
            const song = document.getElementById('song');
            const btnAudio = document.getElementById('toggleAudio');
            const btnTheme = document.getElementById('toggleTheme');
            const btnMotion = document.getElementById('reduceMotion');

            // Persisted states
            const storedTheme = localStorage.getItem('hb-theme');
            const storedMotion = localStorage.getItem('hb-motion');

            if (storedTheme === 'dark') {
                document.documentElement.classList.add('dark-mode');
                btnTheme.setAttribute('aria-pressed', 'true');
                btnTheme.textContent = '☀️ Light';
            }

            if (storedMotion === 'reduced') {
                document.documentElement.classList.add('reduce-motion');
                btnMotion.setAttribute('aria-pressed', 'true');
                btnMotion.textContent = '🌀 Motion: Off';
            }

            // Audio
            if (song) {
                song.volume = 0.85;
                song.play().catch(() => {
                    btnAudio.setAttribute('aria-pressed', 'false');
                    btnAudio.textContent = '🔈 Music';
                });
            }

            btnAudio?.addEventListener('click', () => {
                if (!song) return;
                if (song.paused) {
                    song.play();
                    btnAudio.setAttribute('aria-pressed', 'true');
                    btnAudio.textContent = '🔊 Music';
                } else {
                    song.pause();
                    btnAudio.setAttribute('aria-pressed', 'false');
                    btnAudio.textContent = '🔈 Music';
                }
            });

            // Theme toggle
            btnTheme?.addEventListener('click', () => {
                const dark = document.documentElement.classList.toggle('dark-mode');
                btnTheme.setAttribute('aria-pressed', String(dark));
                btnTheme.textContent = dark ? '☀️ Light' : '🌙 Dark';
                localStorage.setItem('hb-theme', dark ? 'dark' : 'light');
            });

            // Motion toggle (manual override)
            btnMotion?.addEventListener('click', () => {
                const reduced = document.documentElement.classList.toggle('reduce-motion');
                btnMotion.setAttribute('aria-pressed', String(reduced));
                btnMotion.textContent = reduced ? '🌀 Motion: Off' : '🌀 Motion';
                localStorage.setItem('hb-motion', reduced ? 'reduced' : 'full');
                if (reduced) {
                    // Pause floating animations
                    document.querySelectorAll('*').forEach(el => {
                        if (getComputedStyle(el).animationName.includes('float')) {
                            el.dataset._anim = el.style.animation;
                            el.style.animation = 'none';
                        }
                    });
                } else {
                    document.querySelectorAll('[data-_anim]').forEach(el => {
                        el.style.animation = el.dataset._anim;
                        delete el.dataset._anim;
                    });
                }
            });

            // Balloons
            const balloonColors = ["#ff477e", "#ffd166", "#06d6a0", "#118ab2", "#ef476f", "#9b5de5"];
            const balloons = document.getElementById('balloons');
            for (let i = 0; i < 22; i++) { // 22 balloons for age
                const b = document.createElement('div');
                b.className = 'balloon';
                b.setAttribute('aria-hidden', 'true');
                b.style.left = Math.random() * 100 + 'vw';
                b.style.background = balloonColors[Math.floor(Math.random() * balloonColors.length)];
                b.style.animationDuration = (6 + Math.random() * 6) + 's';
                b.style.width = 40 + Math.random() * 40 + 'px';
                b.style.height = 60 + Math.random() * 40 + 'px';
                balloons.appendChild(b);
            }

            // Sparkles
            const sparkles = document.querySelector('.sparkles');
            for (let i = 0; i < 60; i++) {
                const s = document.createElement('span');
                s.setAttribute('aria-hidden', 'true');
                s.style.left = Math.random() * 100 + 'vw';
                s.style.top = Math.random() * 100 + 'vh';
                s.style.animationDelay = (Math.random() * 5) + 's';
                sparkles.appendChild(s);
            }

            // Confetti on greeting click (lightweight)
            const greeting = document.querySelector('.greeting');
            greeting?.addEventListener('click', (e) => {
                for (let i = 0; i < 18; i++) {
                    const piece = document.createElement('span');
                    piece.style.position = 'fixed';
                    piece.style.width = piece.style.height = (4 + Math.random() * 6) + 'px';
                    piece.style.background = balloonColors[Math.floor(Math.random() * balloonColors.length)];
                    piece.style.left = (e.clientX + (Math.random() * 120 - 60)) + 'px';
                    piece.style.top = (e.clientY + (Math.random() * 40 - 20)) + 'px';
                    piece.style.borderRadius = '2px';
                    piece.style.opacity = '0.9';
                    piece.style.transform = 'translateY(0)';
                    piece.style.transition = 'transform .9s ease, opacity .9s ease';
                    document.body.appendChild(piece);
                    requestAnimationFrame(() => {
                        piece.style.transform = `translateY(${80 + Math.random() * 120}px) rotate(${Math.random() * 480}deg)`;
                        piece.style.opacity = '0';
                    });
                    setTimeout(() => piece.remove(), 1100);
                }
            });
        });
    </script>
</body>

</html>